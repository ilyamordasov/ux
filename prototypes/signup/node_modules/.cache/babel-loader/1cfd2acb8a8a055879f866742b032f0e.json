{"ast":null,"code":"var _jsxFileName = \"/Users/im/Desktop/factoringplus/signup/src/components/Suggest.js\";\nimport React from 'react';\nimport Autosuggest from 'react-autosuggest'; // When suggestion is clicked, Autosuggest needs to populate the input\n// based on the clicked suggestion. Teach Autosuggest how to calculate the\n// input value for every given suggestion.\n\nconst getSuggestionValue = suggestion => suggestion.name; // Use your imagination to render suggestions.\n\n\nconst renderSuggestion = suggestion => /*#__PURE__*/React.createElement(\"span\", {\n  style: {\n    backgroundColor: \"#fff\"\n  },\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 11,\n    columnNumber: 3\n  }\n}, suggestion.name);\n\nclass Suggest extends React.Component {\n  constructor() {\n    super();\n\n    this.onChange = (event, {\n      newValue\n    }) => {\n      this.setState({\n        value: newValue\n      });\n    };\n\n    this.renderSuggestionsContainer = ({\n      containerProps,\n      children,\n      query\n    }) => {\n      return /*#__PURE__*/React.createElement(\"div\", Object.assign({}, containerProps, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 34,\n          columnNumber: 7\n        }\n      }), children, /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 36,\n          columnNumber: 9\n        }\n      }, \"Press Enter to search \", /*#__PURE__*/React.createElement(\"strong\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 33\n        }\n      }, query)));\n    };\n\n    this.onSuggestionsFetchRequested = ({\n      value\n    }) => {\n      var myHeaders = new Headers();\n      myHeaders.append(\"Authorization\", \"Token cd5426b6f89b5b6b0ae66f413304c14f7da18704\");\n      myHeaders.append(\"Content-Type\", \"application/json\");\n      var requestOptions = {\n        method: 'POST',\n        headers: myHeaders,\n        body: JSON.stringify({\n          \"query\": value\n        }),\n        redirect: 'follow'\n      };\n\n      if (value.length > 3) {\n        let languages = [];\n        fetch(\"https://suggestions.dadata.ru/suggestions/api/4_1/rs/suggest/party\", requestOptions).then(response => response.json()).then(result => {\n          result.suggestions.map(element => {\n            languages.push({\n              name: element.value,\n              inn: element.data.inn,\n              ogrn: element.data.ogrn\n            });\n          });\n          this.setState({\n            suggestions: languages\n          });\n        }).catch(error => console.log('error', error));\n      }\n    };\n\n    this.onSuggestionsClearRequested = () => {\n      this.setState({\n        suggestions: []\n      });\n    };\n\n    this.state = {\n      value: '',\n      suggestions: []\n    };\n  }\n\n  render() {\n    const {\n      value,\n      suggestions\n    } = this.state; // Autosuggest will pass through all these props to the input.\n\n    const inputProps = {\n      placeholder: this.props.palceholder,\n      value,\n      onChange: this.onChange\n    }; // Finally, render it!\n\n    return /*#__PURE__*/React.createElement(Autosuggest, {\n      suggestions: suggestions,\n      onSuggestionsFetchRequested: this.onSuggestionsFetchRequested,\n      onSuggestionsClearRequested: this.onSuggestionsClearRequested,\n      getSuggestionValue: getSuggestionValue,\n      renderSuggestion: renderSuggestion,\n      inputProps: inputProps,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 7\n      }\n    });\n  }\n\n}\n\nexport default Suggest;","map":{"version":3,"sources":["/Users/im/Desktop/factoringplus/signup/src/components/Suggest.js"],"names":["React","Autosuggest","getSuggestionValue","suggestion","name","renderSuggestion","backgroundColor","Suggest","Component","constructor","onChange","event","newValue","setState","value","renderSuggestionsContainer","containerProps","children","query","onSuggestionsFetchRequested","myHeaders","Headers","append","requestOptions","method","headers","body","JSON","stringify","redirect","length","languages","fetch","then","response","json","result","suggestions","map","element","push","inn","data","ogrn","catch","error","console","log","onSuggestionsClearRequested","state","render","inputProps","placeholder","props","palceholder"],"mappings":"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","sourcesContent":["import React from 'react';\nimport Autosuggest from 'react-autosuggest';\n\n// When suggestion is clicked, Autosuggest needs to populate the input\n// based on the clicked suggestion. Teach Autosuggest how to calculate the\n// input value for every given suggestion.\nconst getSuggestionValue = suggestion => suggestion.name;\n\n// Use your imagination to render suggestions.\nconst renderSuggestion = suggestion => (\n  <span style={{backgroundColor:\"#fff\"}}>\n    {suggestion.name}\n  </span>\n);\n\nclass Suggest extends React.Component {\n  constructor() {\n    super();\n\n    this.state = {\n      value: '',\n      suggestions: []\n    };\n  }\n\n  onChange = (event, { newValue }) => {\n    this.setState({\n      value: newValue\n    });\n  };\n\n  renderSuggestionsContainer = ({ containerProps , children, query }) => {\n    return (\n      <div {... containerProps}>\n        {children}\n        <div>\n          Press Enter to search <strong>{query}</strong>\n        </div>\n      </div>\n    );\n  }\n\n  // Autosuggest will call this function every time you need to update suggestions.\n  // You already implemented this logic above, so just use it.\n  onSuggestionsFetchRequested = ({ value }) => {\n    var myHeaders = new Headers();\n    myHeaders.append(\"Authorization\", \"Token cd5426b6f89b5b6b0ae66f413304c14f7da18704\");\n    myHeaders.append(\"Content-Type\", \"application/json\");\n\n    var requestOptions = {\n      method: 'POST',\n      headers: myHeaders,\n      body: JSON.stringify({\"query\":value}),\n      redirect: 'follow'\n    };\n    if (value.length > 3) {\n      let languages = [];\n      fetch(\"https://suggestions.dadata.ru/suggestions/api/4_1/rs/suggest/party\", requestOptions)\n        .then(response => response.json())\n        .then(result => {\n          result.suggestions.map(element => {\n            languages.push({name: element.value, inn:element.data.inn, ogrn:element.data.ogrn});\n          });\n          this.setState({ suggestions: languages });\n        })\n        .catch(error => console.log('error', error));\n    }\n  };\n\n  // Autosuggest will call this function every time you need to clear suggestions.\n  onSuggestionsClearRequested = () => {\n    this.setState({\n      suggestions: []\n    });\n  };\n\n  render() {\n    const { value, suggestions } = this.state;\n\n    // Autosuggest will pass through all these props to the input.\n    const inputProps = {\n      placeholder: this.props.palceholder,\n      value,\n      onChange: this.onChange\n    };\n\n    // Finally, render it!\n    return (\n      <Autosuggest\n        suggestions={suggestions}\n        onSuggestionsFetchRequested={this.onSuggestionsFetchRequested}\n        onSuggestionsClearRequested={this.onSuggestionsClearRequested}\n        getSuggestionValue={getSuggestionValue}\n        renderSuggestion={renderSuggestion}\n        inputProps={inputProps}\n      />\n    );\n  }\n}\n\nexport default Suggest;"]},"metadata":{},"sourceType":"module"}