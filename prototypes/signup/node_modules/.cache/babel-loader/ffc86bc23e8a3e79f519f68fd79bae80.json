{"ast":null,"code":"var _jsxFileName = \"/Users/im/Desktop/factoringplus/signup/src/components/Suggest.js\";\nimport React from 'react';\nimport Autosuggest from 'react-autosuggest'; // When suggestion is clicked, Autosuggest needs to populate the input\n// based on the clicked suggestion. Teach Autosuggest how to calculate the\n// input value for every given suggestion.\n\nconst getSuggestionValue = suggestion => suggestion.name; // Use your imagination to render suggestions.\n\n\nconst renderSuggestion = suggestion => /*#__PURE__*/React.createElement(\"div\", {\n  style: {\n    backgroundColor: \"#fff\",\n    width: \"100%\",\n    marginBottom: 20\n  },\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 11,\n    columnNumber: 3\n  }\n}, suggestion.name);\n\nclass Suggest extends React.Component {\n  constructor() {\n    super();\n\n    this.onChange = (event, {\n      newValue\n    }) => {\n      this.setState({\n        value: newValue\n      });\n    };\n\n    this.onSuggestionsFetchRequested = ({\n      value\n    }) => {\n      var myHeaders = new Headers();\n      myHeaders.append(\"Authorization\", \"Token cd5426b6f89b5b6b0ae66f413304c14f7da18704\");\n      myHeaders.append(\"Content-Type\", \"application/json\");\n      var requestOptions = {\n        method: 'POST',\n        headers: myHeaders,\n        body: JSON.stringify({\n          \"query\": value\n        }),\n        redirect: 'follow'\n      };\n\n      if (value.length > 3) {\n        let languages = [];\n        fetch(\"https://suggestions.dadata.ru/suggestions/api/4_1/rs/suggest/party\", requestOptions).then(response => response.json()).then(result => {\n          result.suggestions.map(element => {\n            languages.push({\n              name: element.value,\n              inn: element.data.inn,\n              ogrn: element.data.ogrn\n            });\n          });\n          this.setState({\n            suggestions: languages\n          });\n        }).catch(error => console.log('error', error));\n      }\n    };\n\n    this.onSuggestionsClearRequested = () => {\n      this.setState({\n        suggestions: []\n      });\n    };\n\n    this.state = {\n      value: '',\n      suggestions: []\n    };\n  }\n\n  render() {\n    const {\n      value,\n      suggestions\n    } = this.state; // Autosuggest will pass through all these props to the input.\n\n    const inputProps = {\n      placeholder: this.props.palceholder,\n      value,\n      onChange: this.onChange\n    }; // Finally, render it!\n\n    return /*#__PURE__*/React.createElement(Autosuggest, {\n      suggestions: suggestions,\n      onSuggestionsFetchRequested: this.onSuggestionsFetchRequested,\n      onSuggestionsClearRequested: this.onSuggestionsClearRequested,\n      getSuggestionValue: getSuggestionValue,\n      renderSuggestion: renderSuggestion,\n      inputProps: inputProps,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 7\n      }\n    });\n  }\n\n}\n\nexport default Suggest;","map":{"version":3,"sources":["/Users/im/Desktop/factoringplus/signup/src/components/Suggest.js"],"names":["React","Autosuggest","getSuggestionValue","suggestion","name","renderSuggestion","backgroundColor","width","marginBottom","Suggest","Component","constructor","onChange","event","newValue","setState","value","onSuggestionsFetchRequested","myHeaders","Headers","append","requestOptions","method","headers","body","JSON","stringify","redirect","length","languages","fetch","then","response","json","result","suggestions","map","element","push","inn","data","ogrn","catch","error","console","log","onSuggestionsClearRequested","state","render","inputProps","placeholder","props","palceholder"],"mappings":"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","sourcesContent":["import React from 'react';\nimport Autosuggest from 'react-autosuggest';\n\n// When suggestion is clicked, Autosuggest needs to populate the input\n// based on the clicked suggestion. Teach Autosuggest how to calculate the\n// input value for every given suggestion.\nconst getSuggestionValue = suggestion => suggestion.name;\n\n// Use your imagination to render suggestions.\nconst renderSuggestion = suggestion => (\n  <div style={{backgroundColor:\"#fff\", width:\"100%\",marginBottom:20}}>\n    {suggestion.name}\n  </div>\n);\n\nclass Suggest extends React.Component {\n  constructor() {\n    super();\n\n    this.state = {\n      value: '',\n      suggestions: []\n    };\n  }\n\n  onChange = (event, { newValue }) => {\n    this.setState({\n      value: newValue\n    });\n  };\n\n  // Autosuggest will call this function every time you need to update suggestions.\n  // You already implemented this logic above, so just use it.\n  onSuggestionsFetchRequested = ({ value }) => {\n    var myHeaders = new Headers();\n    myHeaders.append(\"Authorization\", \"Token cd5426b6f89b5b6b0ae66f413304c14f7da18704\");\n    myHeaders.append(\"Content-Type\", \"application/json\");\n\n    var requestOptions = {\n      method: 'POST',\n      headers: myHeaders,\n      body: JSON.stringify({\"query\":value}),\n      redirect: 'follow'\n    };\n    if (value.length > 3) {\n      let languages = [];\n      fetch(\"https://suggestions.dadata.ru/suggestions/api/4_1/rs/suggest/party\", requestOptions)\n        .then(response => response.json())\n        .then(result => {\n          result.suggestions.map(element => {\n            languages.push({name: element.value, inn:element.data.inn, ogrn:element.data.ogrn});\n          });\n          this.setState({ suggestions: languages });\n        })\n        .catch(error => console.log('error', error));\n    }\n  };\n\n  // Autosuggest will call this function every time you need to clear suggestions.\n  onSuggestionsClearRequested = () => {\n    this.setState({\n      suggestions: []\n    });\n  };\n\n  render() {\n    const { value, suggestions } = this.state;\n\n    // Autosuggest will pass through all these props to the input.\n    const inputProps = {\n      placeholder: this.props.palceholder,\n      value,\n      onChange: this.onChange\n    };\n\n    // Finally, render it!\n    return (\n      <Autosuggest\n        suggestions={suggestions}\n        onSuggestionsFetchRequested={this.onSuggestionsFetchRequested}\n        onSuggestionsClearRequested={this.onSuggestionsClearRequested}\n        getSuggestionValue={getSuggestionValue}\n        renderSuggestion={renderSuggestion}\n        inputProps={inputProps}\n      />\n    );\n  }\n}\n\nexport default Suggest;"]},"metadata":{},"sourceType":"module"}