{"ast":null,"code":"var _jsxFileName = \"/Users/im/Desktop/factoringplus/prototypes/prototypes/signup/src/components/Suggest.js\";\nimport React from 'react';\nimport Autosuggest from 'react-autosuggest';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport { Button, Form } from 'react-bootstrap'; // When suggestion is clicked, Autosuggest needs to populate the input\n// based on the clicked suggestion. Teach Autosuggest how to calculate the\n// input value for every given suggestion.\n\nconst getSuggestionValue = suggestion => suggestion.name; // Use your imagination to render suggestions.\n\n\nconst renderSuggestion = suggestion => /*#__PURE__*/React.createElement(\"span\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 15,\n    columnNumber: 3\n  }\n}, suggestion.name);\n\nclass Suggest extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.onChange = (event, {\n      newValue\n    }) => {\n      this.setState({\n        value: newValue\n      });\n    };\n\n    this.renderSuggestionsContainer = ({\n      containerProps,\n      children,\n      query\n    }) => {\n      return /*#__PURE__*/React.createElement(\"div\", Object.assign({}, containerProps, {\n        style: {\n          border: \"1px solid #f5f5f5\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 7\n        }\n      }), children);\n    };\n\n    this.renderInputComponent = inputProps => /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(Form.Control, Object.assign({}, inputProps, {\n      type: \"text\",\n      placeholder: this.props.placeholder,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 7\n      }\n    })));\n\n    this.onSuggestionsFetchRequested = ({\n      value\n    }) => {\n      var myHeaders = new Headers();\n      myHeaders.append(\"Authorization\", \"Token \" + process.env.REACT_APP_DADATA);\n      myHeaders.append(\"Content-Type\", \"application/json\");\n      var requestOptions = {\n        method: 'POST',\n        headers: myHeaders,\n        body: JSON.stringify({\n          \"query\": value\n        }),\n        redirect: 'follow'\n      };\n\n      if (value.length > 3) {\n        let languages = [];\n        fetch(\"https://suggestions.dadata.ru/suggestions/api/4_1/rs/suggest/\" + this.props.method, requestOptions).then(response => response.json()).then(result => {\n          result.suggestions.map(element => {\n            languages.push({\n              name: element.value,\n              inn: element.data.inn,\n              ogrn: element.data.ogrn\n            });\n          });\n          this.setState({\n            suggestions: languages\n          });\n        }).catch(error => console.log('error', error));\n      }\n    };\n\n    this.onSuggestionsClearRequested = () => {\n      this.setState({\n        suggestions: []\n      });\n    };\n\n    this.onSuggestionSelected = (event, {\n      suggestion\n    }) => {\n      if (this.props.callback) {\n        this.props.callback(suggestion);\n      }\n    };\n\n    this.state = {\n      value: '',\n      suggestions: []\n    };\n  }\n\n  render() {\n    const {\n      value,\n      suggestions\n    } = this.state;\n    console.log(\">>> \" + process.env.REACT_APP_DADATA); // Autosuggest will pass through all these props to the input.\n\n    const inputProps = {\n      placeholder: this.props.palceholder,\n      value,\n      onChange: this.onChange\n    }; // Finally, render it!\n\n    return /*#__PURE__*/React.createElement(Autosuggest, {\n      suggestions: suggestions,\n      onSuggestionsFetchRequested: this.onSuggestionsFetchRequested,\n      onSuggestionsClearRequested: this.onSuggestionsClearRequested,\n      getSuggestionValue: getSuggestionValue,\n      renderSuggestion: renderSuggestion,\n      renderInputComponent: this.renderInputComponent,\n      renderSuggestionsContainer: this.renderSuggestionsContainer,\n      onSuggestionSelected: this.onSuggestionSelected,\n      inputProps: inputProps,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 7\n      }\n    });\n  }\n\n}\n\nexport default Suggest;","map":{"version":3,"sources":["/Users/im/Desktop/factoringplus/prototypes/prototypes/signup/src/components/Suggest.js"],"names":["React","Autosuggest","Button","Form","getSuggestionValue","suggestion","name","renderSuggestion","Suggest","Component","constructor","props","onChange","event","newValue","setState","value","renderSuggestionsContainer","containerProps","children","query","border","renderInputComponent","inputProps","placeholder","onSuggestionsFetchRequested","myHeaders","Headers","append","process","env","REACT_APP_DADATA","requestOptions","method","headers","body","JSON","stringify","redirect","length","languages","fetch","then","response","json","result","suggestions","map","element","push","inn","data","ogrn","catch","error","console","log","onSuggestionsClearRequested","onSuggestionSelected","callback","state","render","palceholder"],"mappings":"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","sourcesContent":["import React from 'react';\nimport Autosuggest from 'react-autosuggest';\n\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\nimport {Button,Form} from 'react-bootstrap';\n\n// When suggestion is clicked, Autosuggest needs to populate the input\n// based on the clicked suggestion. Teach Autosuggest how to calculate the\n// input value for every given suggestion.\nconst getSuggestionValue = suggestion => suggestion.name;\n\n// Use your imagination to render suggestions.\nconst renderSuggestion = suggestion => (\n  <span>\n    {suggestion.name}\n  </span>\n);\n\nclass Suggest extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      value: '',\n      suggestions: []\n    };\n  }\n\n  onChange = (event, { newValue }) => {\n    this.setState({\n      value: newValue\n    });\n  };\n\n  renderSuggestionsContainer = ({ containerProps , children, query }) => {\n    return (\n      <div {...containerProps} style={{border:\"1px solid #f5f5f5\"}}>\n        {children}\n      </div>\n    );\n  }\n\n  renderInputComponent = inputProps => (\n    <div>\n      <Form.Control {...inputProps} type=\"text\" placeholder={this.props.placeholder}/>\n    </div>\n  );\n\n  // Autosuggest will call this function every time you need to update suggestions.\n  // You already implemented this logic above, so just use it.\n  onSuggestionsFetchRequested = ({ value }) => {\n    var myHeaders = new Headers();\n    myHeaders.append(\"Authorization\", \"Token \"+process.env.REACT_APP_DADATA);\n    myHeaders.append(\"Content-Type\", \"application/json\");\n\n    var requestOptions = {\n      method: 'POST',\n      headers: myHeaders,\n      body: JSON.stringify({\"query\":value}),\n      redirect: 'follow'\n    };\n    if (value.length > 3) {\n      let languages = [];\n      fetch(\"https://suggestions.dadata.ru/suggestions/api/4_1/rs/suggest/\"+this.props.method, requestOptions)\n        .then(response => response.json())\n        .then(result => {\n          result.suggestions.map(element => {\n            languages.push({name: element.value, inn:element.data.inn, ogrn:element.data.ogrn});\n          });\n          this.setState({ suggestions: languages });\n        })\n        .catch(error => console.log('error', error));\n    }\n  };\n\n  // Autosuggest will call this function every time you need to clear suggestions.\n  onSuggestionsClearRequested = () => {\n    this.setState({\n      suggestions: []\n    });\n  };\n\n  onSuggestionSelected = (event, { suggestion }) => {\n    if(this.props.callback) {\n      this.props.callback(suggestion);\n    }\n  };\n\n  render() {\n    const { value, suggestions } = this.state;\n\n    console.log(\">>> \"+ process.env.REACT_APP_DADATA);\n\n    // Autosuggest will pass through all these props to the input.\n    const inputProps = {\n      placeholder: this.props.palceholder,\n      value,\n      onChange: this.onChange\n    };\n\n    // Finally, render it!\n    return (\n      <Autosuggest\n        suggestions={suggestions}\n        onSuggestionsFetchRequested={this.onSuggestionsFetchRequested}\n        onSuggestionsClearRequested={this.onSuggestionsClearRequested}\n        getSuggestionValue={getSuggestionValue}\n        renderSuggestion={renderSuggestion}\n        renderInputComponent={this.renderInputComponent}\n        renderSuggestionsContainer={this.renderSuggestionsContainer}\n        onSuggestionSelected={this.onSuggestionSelected}\n        inputProps={inputProps}\n      />\n    );\n  }\n}\n\nexport default Suggest;"]},"metadata":{},"sourceType":"module"}